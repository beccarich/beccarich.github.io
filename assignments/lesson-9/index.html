<!doctype html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Franklin Weather Page</title>
  <meta name="author" content="Rebecca Richardson">
  <meta name="description" content="Weather Forecasts">
  <!-- external style references in the proper cascading order -->    
  <link href="https://fonts.googleapis.com/css?family=#" rel="stylesheet">  <!-- Google API font reference -->
  <link href="styles/normalize.css" rel="stylesheet"> <!-- normalize useragent/browser defaults -->
  <link href="styles/main-5.css" rel="stylesheet">    <!-- default styles - small/phone views -->
  <link href="styles/medium-5.css" rel="stylesheet">  <!-- medium/tablet views -->
  <link href="styles/large-5.css" rel="stylesheet">   <!-- large/wide/desktop views --> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

<style>
    li {
        display: inline;
    }
    
</style>

</head>
<body>
  <header>
    <figure class="logo"> 
        <img src="images/sunlogo.png" alt="The site logo" width="90px" height="90px" >
    </figure>
    <h1>On the Horizon</h1>
    <div class="subheading">The weather of the future.</div>
  </header>

  <!-- site navigation use placeholder references -->
  <nav class="clearfix">
    <button onclick="toggleNavMenu()">&#9776;</button>
    <ul id="navMenu" class="hide">
        <li><a href="#">Home</a></li>
    	<li class="active"><a href="franklin-7.html">Franklin</a></li>
    	<li><a href="#">Greenville</a></li>
    	<li><a href="#">Springfield</a></li>
    	<li><a href="stormcenter.html">Storm Center</a></li>
    	<li><a href="gallery-7.html">Gallery</a></li>
    </ul>		
    </nav>
<main>
      <header>

      </header>

      <section>

      </section>

    <script>
        var header = document.querySelector('header');
        var section = document.querySelector('section');
        
        var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
        var request = new XMLHttpRequest();
        request.open('GET', requestURL);
        request.responseType = 'json';
        request.send();
        
        request.onload = function() {
      var towns = request.response;
      populateHeader(towns);
      showIndex(towns);
    }

    function populateHeader(jsonObj) {
      var myH1 = document.createElement('h1');
      myH1.textContent = jsonObj['towns'];
      header.appendChild(myH1);
    }

    function showIndex (jsonObj) {
      var town = jsonObj['towns'];

      for(var i = 0; i < towns.length; i++) {
        var myArticle = document.createElement('article');
        var myH2 = document.createElement('h2');
        var myPara1 = document.createElement('p');
        var myPara2 = document.createElement('p');
        var myPara3 = document.createElement('p');
        var myPara4 = document.createElement('p');
        var myPara5 = document.createElement('p');
        var myList = document.createElement('ul');

        myH2.textContent = towns[i].name;
        myPara1.textContent = 'Name: ' + towns[i].name;
        myPara2.textContent = 'Motto: ' + towns[i].motto;
        myPara3.textContent = 'Year Founded:' + towns[i].yearFounded;
        myPara4.textContent = 'Current Population:' + towns[i].currentPopulation;
        myPara5.textContent = 'Average Rainfall:' + towns[i].averageRainfall;
          

        var events = towns[i].events;
        for(var j = 0; j < towns.length; j++) {
          var listItem = document.createElement('li');
          listItem.textContent = events[j];
          myList.appendChild(listItem);
        }

        myArticle.appendChild(myH2);
        myArticle.appendChild(myPara1);
        myArticle.appendChild(myPara2);
        myArticle.appendChild(myPara3);
        myArticle.appendChild(myList);

        section.appendChild(myArticle);
      }
    }
    </script>
    
    </main> 
  <footer>
    <aside>
        <br>
        <br>
        <br>
        The Weather Site<br>
        123 Main St.<br>
        Franklin, MU 83454<br>
        (999)999-9999<br>
        contact@theurl.com<br>
        <br>
        <br>
    </aside>
    <p class="footer-bar">| &copy;2020 All Rights Reserved | On the Horizon |<span id="currentdate"></span></p>
  </footer>

  <script src="scripts/hamburger.js"></script>
  <script src="scripts/currentdate.js"></script>
  <script src="scripts/windchill.js"></script>
    </body>
</html>

